#!/usr/bin/make -f

%:
	dh $@

override_dh_auto_build:
	# Extract map archives (-o to overwrite without prompting)
	unzip -qo src/sample-map-planning.zip -d src/
	unzip -qo src/sample-map-rosbag.zip -d src/

override_dh_auto_install:
	# Install maps
	install -d $(CURDIR)/debian/autoware-maps/opt/autoware/1.5.0/share/autoware_maps
	cp -r src/sample-map-planning $(CURDIR)/debian/autoware-maps/opt/autoware/1.5.0/share/autoware_maps/
	cp -r src/sample-map-rosbag $(CURDIR)/debian/autoware-maps/opt/autoware/1.5.0/share/autoware_maps/

override_dh_builddeb:
	# Use gzip instead of xz for faster compression
	dh_builddeb -- -Zgzip
