#!/usr/bin/make -f

%:
	dh $@

override_dh_auto_install:
	# Install setup scripts to /opt/autoware/1.5.0/
	install -d $(CURDIR)/debian/autoware-config/opt/autoware/1.5.0
	install -m 644 src/setup.bash $(CURDIR)/debian/autoware-config/opt/autoware/1.5.0/
	install -m 644 src/setup.zsh $(CURDIR)/debian/autoware-config/opt/autoware/1.5.0/
	install -m 644 src/setup.sh $(CURDIR)/debian/autoware-config/opt/autoware/1.5.0/

	# Install config files to /opt/autoware/1.5.0/config/
	install -d $(CURDIR)/debian/autoware-config/opt/autoware/1.5.0/config
	install -m 644 src/cyclonedds.xml $(CURDIR)/debian/autoware-config/opt/autoware/1.5.0/config/

	# Install sysctl configuration
	install -d $(CURDIR)/debian/autoware-config/etc/sysctl.d
	install -m 644 src/10-cyclone-max.conf $(CURDIR)/debian/autoware-config/etc/sysctl.d/

	# Install systemd service for multicast on loopback
	install -d $(CURDIR)/debian/autoware-config/etc/systemd/system
	install -m 644 src/multicast-lo.service $(CURDIR)/debian/autoware-config/etc/systemd/system/
